(window.webpackJsonphatchways=window.webpackJsonphatchways||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},17:function(e,t,a){},19:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),l=(a(17),a(6)),o=a.n(l),u=a(7),i=a(8),m=a(11),d=a(1),h=a(2),p=a(4),f=a(3),g=a(5),b=function(e){var t=e.onChange,a=e.placeholder;return r.a.createElement("div",{className:"row inputBarContainer"},r.a.createElement("input",{className:"customSearchBar",type:"text",placeholder:a,"aria-label":"Search",onChange:function(e){return t(e.target.value)}}))},v=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSubmit=function(e){var t=a.props,n=t.student;(0,t.onNewTagSubmit)(e,n,a.refs.input.value)},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"inputBarContainer"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{className:"customTagInputBar",type:"text",placeholder:"Add a tag","aria-label":"Search",ref:"input"})))}}]),t}(n.Component),y=function(e){var t=e.student,a=e.onNewTagSubmit;return r.a.createElement(r.a.Fragment,null,t.grades.map((function(e,t){return r.a.createElement("li",{key:t},"Test ",t+1,": ",r.a.createElement("span",{className:"tab"})," ",e,"%")})),t.tags.map((function(e,t){return r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-md",disabled:!0,key:t,style:{margin:"0.5em"}},e)})),r.a.createElement(v,{onNewTagSubmit:a,student:t}))},w=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={toggleDetail:!1},a.toggleDetail=function(){a.setState({toggleDetail:!a.state.toggleDetail})},a.getIconClass=function(){return a.state.toggleDetail?"fa fa-minus customFa":"fa fa-plus customFa"},a.getListItemClassName=function(e){return"list-group-item d-flex justify-content-between align-items-center row ".concat(0===e?"no-bt":"")},a.studentAverages=function(e){return e.map((function(e){return parseInt(e)})).reduce((function(e,t){return e+t}))/e.length},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.student,a=e.index,n=e.onNewTagSubmit;return r.a.createElement("div",{key:t.id,className:this.getListItemClassName(a)},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{className:"rounded-circle mx-auto d-block",src:t.pic,alt:t.id,style:{border:"1px solid #ddd",width:"7rem"}})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h2",{className:"studentName"},"".concat(t.firstName," ").concat(t.lastName).toLocaleUpperCase()),r.a.createElement("ul",null,r.a.createElement("li",null,"Email: ",t.email),r.a.createElement("li",null,"Company: ",t.company),r.a.createElement("li",null,"Skill: ",t.skill),r.a.createElement("li",null,"Averages: ",this.studentAverages(t.grades),"%")),r.a.createElement("br",null),r.a.createElement("ul",null,this.state.toggleDetail&&r.a.createElement(y,{student:t,onNewTagSubmit:n}))),r.a.createElement("div",{className:"col justify-content-end d-flex"},r.a.createElement("span",null,r.a.createElement("i",{className:this.getIconClass(),"aria-hidden":"true",onClick:this.toggleDetail}))))))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.students,a=e.studentsCount,n=e.onNewTagSubmit;return r.a.createElement(r.a.Fragment,null,0!==a?t.map((function(e,t){return r.a.createElement(w,{key:e.id,student:e,index:t,onNewTagSubmit:n})})):r.a.createElement("p",null,"There are no results"))}}]),t}(n.Component),N="https://www.hatchways.io/api/assessment/students";function O(){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.students,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={students:[],searchName:"",searchTag:""},a.mapToViewModel=function(e){return e.map((function(e){var t=C({},e);return t.tags=[],t}))},a.handleNameSearch=function(e){a.setState({searchName:e})},a.handleTagsSearch=function(e){a.setState({searchTag:e})},a.handleNewTagSubmit=function(e,t,n){e.preventDefault();var r=Object(i.a)(a.state.students),c=r.indexOf(t),s=C({},t),l=Object(i.a)(s.tags);l.push(n),s.tags=l,r[c]=s,a.setState({students:r})},a.matchStudentTags=function(e,t){var a=!1,n=!0,r=!1,c=void 0;try{for(var s,l=e.tags[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){if(s.value.includes(t)){a=!0;break}}}catch(o){r=!0,c=o}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}return a},a.getStudents=function(){var e=a.state,t=e.searchName,n=e.searchTag,r=e.students;return t&&(r=r.filter((function(e){return"".concat(e.firstName," ").concat(e.lastName).toLocaleLowerCase().includes(t.toLowerCase())}))),n&&(r=r.filter((function(e){return a.matchStudentTags(e,n)}))),{students:r,studentsCount:r.length}},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,t=this.mapToViewModel(t),this.setState({students:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getStudents(),t=e.students,a=e.studentsCount;return r.a.createElement("div",{className:"container box "},r.a.createElement("div",{className:"box-content customScrollbar"},r.a.createElement("ul",{className:"list-group"},r.a.createElement(b,{onChange:this.handleNameSearch,placeholder:"Search by name"}),r.a.createElement(b,{onChange:this.handleTagsSearch,placeholder:"Search by tags"}),r.a.createElement(E,{students:t,studentsCount:a,onNewTagSubmit:this.handleNewTagSubmit}))))}}]),t}(n.Component);a(19);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(20),a(21);s.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.2ee064c3.chunk.js.map